# 定义用例

## 1.1 简介

  这本书是关于编程设计的。 但是，与许多有关此主题的书不同，这本书讲授的是探索性设计，而不是指导性设计。 通常，大多数撰写有关设计某些方面的文章的作者会建立他们希望传达的原理，以抽象的方式列出这些原理，然后继续给出支持当前观点的示例。 这不是一本书。 而是，本书定义了要解决的实际问题，并着手详细研究其解决方案。 也就是说，我没有确定一个主题并创建一些琐碎的示例来支持其教学，而是定义了一个难题，然后让该问题的解决决定了应该讨论哪些主题。

  有趣的是，以上方法正是我要告诉某人不要学习一门学科的方法。我一直强调，人们应该首先学习广泛的基础知识，然后将这些原理应用于解决问题。但是，这不是一本旨在教授设计原理的书。 更确切地说，这是一本书，适合那些已经了解基本知识但希望加深实践知识的人。 这是一本书，旨在教会某人从头到尾设计和实施一个现实的，尽管很小的程序的技巧。 这个过程不仅涉及设计元素。 它涉及理解何时以及如何使用所学知识，理解如何在看似等效的方法之间进行决策，以及理解各种决策的长期含义。本书对数据结构，算法，设计模式或C ++最佳实践的介绍并不全面。已经有很多书书涵盖了这些主题。这是一本关于学习如何应用这些知识来编写有组织，有凝聚力，明智，有目的和务实的代码的书。 换句话说，这本书是关于学习编写这样的既可以完成现在的工作（开发）又可以让其他人完成将来的工作（维护）的代码，我称之为实用设计。

  为了探索实用设计，我们需要一个案例研究。 理想情况下，案例研究的问题应该是

* 足够大以至于不琐碎，
* 足够小以至于易处理，
* 足够熟悉，不需要特定领域的专业知识，并且
* 在本书持续时间内保持读者注意力的有趣观点

  考虑到上述标准后，我决定选择一个虚拟键盘作为案例研究。 虚拟键盘要求的详细信息将在下面定义。 我相信，一个功能齐全的虚拟键盘的代码足够重要，以致于对其设计的详细研究提供了足够的材料来涵盖一本书。 但是，该项目很小，因此书的长度可以合理。 当然，不需要专业领域的专业知识。 我怀疑本书的每个读者都使用过虚拟键盘，并且对它的基本功能很熟悉。 最后，我希望制作虚拟键盘能够为避免烦恼提供适当的方法。

## 1.2 关于需求的几句话

  无论大小，所有程序都有需求。需求是程序必须遵守的那些功能，无论是显式的还是隐式的。 已经编写了有关收集和管理软件需求的全部书籍。 通常，尽管尽了最大的努力，但实际上不可能预先收集所有需求。 有时，所需的工作在经济上是不可行的。 有时，领域专家会忽略看起来似乎很明显的需求，而他们只是忽略了将所有需求与开发团队联系起来。有时，需求只有在程序开始成形后才变得显而易见。 有时，客户对自己的需求了解得不够好，无法与开发团队联系。 尽管可以使用敏捷开发方法来缓解这些难题中的某些难题，但事实是，必须在知道所有需求之前先进行许多设计决策，其中某些决策可能具有深远的影响。

  在本书中，您不会学习收集需求的技术； 相反，只是简单地给出了需求。 好吧，大多数的需求将被预先安排， 但是一些需求直到下一章之前已明确保留，以便您可以学习如何更改设计以适应未来未知的扩展。当然，有人可以辩解说，由于作者知道需求将如何变化，因此初始设计将正确地“预测”不可预见的功能。尽管这种批评是公正的，但我还是认为设计决策背后的思考过程和讨论仍然有意义。作为软件架构师，您的工作之一就是预见未来的需求。尽管可以提出任何要求，但一开始就引入太多的灵活性并不是经济的。在为将来的扩展进行设计时，必须始终权衡利弊：考虑在一开始就预先设计可扩展性，还是以后有需要时再进行更改。

